December 25, 2002: <span class="anchor" id="line-368"></span><span class="anchor" id="line-369"></span><ul><li style="list-style-type:none"><p class="line862">Version 5 adds additional information to the XdndFinished message in order to allow the Java DND API to be implemented on top of XDND. (Thanks to Danila A. Sinopalnikov for working out the details.) <span class="anchor" id="line-370"></span><span class="anchor" id="line-371"></span></li></ul><p class="line874">August 31, 2002: <span class="anchor" id="line-372"></span><span class="anchor" id="line-373"></span><ul><li style="list-style-type:none">Added requirement to File Dragging protocol. The user name must be provided via the new text/x-xdnd-username data type. <span class="anchor" id="line-374"></span><span class="anchor" id="line-375"></span></li></ul><p class="line874">November 21, 2000: <span class="anchor" id="line-376"></span><span class="anchor" id="line-377"></span><ul><li style="list-style-type:none">Thanks to Daniel Biddle for pointing out that the MIME types should be specified in the format ISO-8859-1, not iso8859-1. <span class="anchor" id="line-378"></span><span class="anchor" id="line-379"></span></li></ul><p class="line874">October 26, 2000: <span class="anchor" id="line-380"></span><span class="anchor" id="line-381"></span><ul><li style="list-style-type:none">Minor modifications to actions required by File Dragging protocol. <span class="anchor" id="line-382"></span><span class="anchor" id="line-383"></span></li></ul><p class="line874">February 22, 2000: <span class="anchor" id="line-384"></span><span class="anchor" id="line-385"></span><ul><li style="list-style-type:none">Added additional notes about why the host name must always be included when dragging files. <span class="anchor" id="line-386"></span><span class="anchor" id="line-387"></span></li></ul><p class="line874">June 7, 1999: <span class="anchor" id="line-388"></span><span class="anchor" id="line-389"></span><ul><li style="list-style-type:none"><p class="line862">Version 4 adds XdndProxy window property to support the new protocol for dropping on the root window. <span class="anchor" id="line-390"></span><span class="anchor" id="line-391"></span>Rewrote the protocol for dropping on the root window to conform to the latest implementations. <span class="anchor" id="line-392"></span><span class="anchor" id="line-393"></span>Added note in Technical Details section about how to specify the character set for text. <span class="anchor" id="line-394"></span><span class="anchor" id="line-395"></span>Created Direct Save (XDS) protocol layered on top of XDND. <span class="anchor" id="line-396"></span><span class="anchor" id="line-397"></span></li></ul><p class="line874">December 1, 1998: <span class="anchor" id="line-398"></span><span class="anchor" id="line-399"></span><ul><li style="list-style-type:none">Rewrote the protocol for dropping on the root window to conform to the latest implementations. <span class="anchor" id="line-400"></span><span class="anchor" id="line-401"></span></li></ul><p class="line874">September 19, 1998: <span class="anchor" id="line-402"></span><span class="anchor" id="line-403"></span><ul><li style="list-style-type:none">The File Dragging protocol now uses the well established text/uri-list instead of url/url. <span class="anchor" id="line-404"></span><span class="anchor" id="line-405"></span>Added note to Optimization section about caching the window stack. <span class="anchor" id="line-406"></span><span class="anchor" id="line-407"></span></li></ul><p class="line874">September 7, 1998: <span class="anchor" id="line-408"></span><span class="anchor" id="line-409"></span><ul><li style="list-style-type:none"><p class="line862">Version 3 changes the way XdndAware is handled. To reduce the number of !XTranslateCoordinates() calls to the X server and to make life easier for programs that use multiple X windows per widget, XdndAware must now be placed on the top-level X window, not on subwindows. This change is unfortunately incompatible with previous versions. However, since there are still relatively few programs that have been released with XDND support, the specification has simply been adjusted so XDND compliance only requires supporting version 3 and up. (This will never happen again!) <span class="anchor" id="line-410"></span><span class="anchor" id="line-411"></span>In addition, Jeroen van der Zijp has invented an extension that allows dropping onto windows that do not support XDND, and Arnt Gulbrandsen has developed a way to drop on the root window. <span class="anchor" id="line-412"></span><span class="anchor" id="line-413"></span></li></ul><p class="line874">August 17, 1998: <span class="anchor" id="line-414"></span><span class="anchor" id="line-415"></span><ul><li style="list-style-type:none">Version 2 adds the following features: <span class="anchor" id="line-416"></span><span class="anchor" id="line-417"></span></li></ul><ul><li><p class="line862">The concept of an action. Previously, only copy was supported. Now, the source can specify any action, and the target can either accept it or fall back on copy or private. The predefined actions are XdndActionCopy (the default), XdndActionMove, XdndActionLink, XdndActionAsk, and XdndActionPrivate. Ask tells the target to get a list of acceptable actions from the source's XdndActionList and XdndActionDescription window properties and then ask the user which one to perform. <span class="anchor" id="line-418"></span><span class="anchor" id="line-419"></span></li><li class="gap"><p class="line862">The target is required to send XdndFinished. (Yes, I caved in <img alt=":)" height="15" src="/moin/freedesktop/img/smile.png" title=":)" width="15" /> However, if the source blocks, it must be prepared to time out in case the target is malfunctioning. Ideally, the source will not need to block because it will keep a history of past selections. The timestamp in XdndDrop allows the source to safely avoid both blocking and keeping a history by simply rejecting outdated requests. <span class="anchor" id="line-420"></span><span class="anchor" id="line-421"></span><ul><li style="list-style-type:none"><p class="line862">Part of the reason for adding XdndFinished is that this allows XDND to be used with higher level API's (e.g. JavaBeans) that require notification of the end of the operation. <span class="anchor" id="line-422"></span><span class="anchor" id="line-423"></span></li></ul><ul><li style="list-style-type:none">With these new features, the File Dragging protocol becomes much simpler. <span class="anchor" id="line-424"></span><span class="anchor" id="line-425"></span>Added page of supporters. <span class="anchor" id="line-426"></span><span class="anchor" id="line-427"></span></li></ul></li></ul><p class="line874">February 25, 1998: <span class="anchor" id="line-428"></span><span class="anchor" id="line-429"></span><ul><li style="list-style-type:none">Added examples of how XDND fits into the larger picture of cooperating applications. <span class="anchor" id="line-430"></span><span class="anchor" id="line-431"></span></li></ul><p class="line874">February 24, 1998: <span class="anchor" id="line-432"></span><span class="anchor" id="line-433"></span><ul><li style="list-style-type:none">Added trashcan discussion to the File Dragging protocol. <span class="anchor" id="line-434"></span><span class="anchor" id="line-435"></span></li></ul><p class="line874">February 2, 1998: <span class="anchor" id="line-436"></span><span class="anchor" id="line-437"></span><ul><li style="list-style-type:none">Version 0 has a hole. If the user begins a second drag from the same source before the data has been transferred to the first target (over a really slow network, obviously), then the first target may get the wrong data. Thanks to Donal K. Fellows for pointing this out.

Version 1 fixes this by adding a time stamp to XdndPosition and XdndDrop which must be used when requesting the data. This way, if the user quickly begins a second drag, the first target will at least get no data instead of the wrong data. <span class="anchor" id="line-440"></span><span class="anchor" id="line-441"></span>Please refer to the Theory section for a more complete discussion and the reasons why this was not fixed by adding a "drop finished" message. <span class="anchor" id="line-442"></span><span class="anchor" id="line-443"></span></li></ul><p class="line874">January 28, 1998: <span class="anchor" id="line-444"></span><span class="anchor" id="line-445"></span><ul><li style="list-style-type:none">Added comparison to Xde. <span class="anchor" id="line-446"></span><span class="anchor" id="line-447"></span></li></ul><p class="line867">